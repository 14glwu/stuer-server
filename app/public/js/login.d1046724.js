(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0c9e":function(t,e,r){"use strict";var s=r("e5c3"),a=r.n(s);a.a},a06d:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"tab_head"},[r("div",{staticClass:"tab_head_item tab-selected"},[r("svg",{staticClass:"icon tab-icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-login"}})]),r("h2",{staticClass:"title"},[t._v("登录")])]),r("div",{staticClass:"tab_head_item",on:{click:t.routeToSignUp}},[r("svg",{staticClass:"icon tab-icon",attrs:{"aria-hidden":"true"}},[r("use",{attrs:{"xlink:href":"#icon-signup"}})]),r("h2",{staticClass:"title"},[t._v("注册")])])]),r("el-form",{ref:"loginForm",staticClass:"form_container",attrs:{model:t.form,rules:t.rules,"label-width":"0","status-icon":""}},[r("el-form-item",{staticClass:"form_item",attrs:{prop:"email"}},[r("el-input",{staticClass:"form_input",attrs:{placeholder:"邮箱",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("el-form-item",{staticClass:"form_item",attrs:{prop:"password"}},[r("el-input",{staticClass:"form_input",attrs:{placeholder:"密码",type:"password","show-password":""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("el-form-item",{staticClass:"form_item"},[r("div",{staticClass:"forgotHref"},[r("a",{attrs:{href:t.forgotHref}},[t._v("忘记密码?")])]),r("el-button",{staticClass:"login_btn",attrs:{type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1)],1)},a=[],i=(r("96cf"),r("3b8d")),o=r("365c"),n={data:function(){var t=function(t,e,r){var s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(""===e)return r(new Error("邮箱不能为空"));s.test(e)?r():r(new Error("请输入正确的邮箱格式"))};return{form:{email:"",password:""},rules:{email:[{validator:t,trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"密码长度为 6-20 个字符",trigger:"blur"}]}}},computed:{forgotHref:function(){return this.$route.query.redirect?"/sso/forgotPwd?redirect=".concat(this.$route.query.redirect):"/sso/forgotPwd"}},methods:{routeToSignUp:function(){this.$router.push({name:"signup",query:{redirect:this.$route.query.redirect}})},login:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$refs.loginForm.validate(function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(r){var s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=7;break}return t.next=3,Object(o["g"])({email:e.form.email,password:e.form.password});case 3:s=t.sent,0===s.code?(e.$message.success("登录成功"),e.$route.query.redirect?window.location.href="".concat(e.$route.query.redirect,"?&auth_token=").concat(s.data.auth_token):window.location.href="/"):e.$message.error("登录失败, ".concat(s.msg)),t.next=9;break;case 7:return e.$message.success("请检验全部填写项是否符合要求"),t.abrupt("return",!1);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},c=n,u=(r("0c9e"),r("2877")),l=Object(u["a"])(c,s,a,!1,null,"22e6d82c",null);e["default"]=l.exports},e5c3:function(t,e,r){}}]);
//# sourceMappingURL=login.d1046724.js.map