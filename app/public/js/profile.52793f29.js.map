{"version":3,"sources":["webpack:///./src/pages/index/views/profile/index.vue?18b4","webpack:///src/pages/index/views/profile/index.vue","webpack:///./src/pages/index/views/profile/index.vue?71c9","webpack:///./src/pages/index/views/profile/index.vue","webpack:///./src/pages/index/views/profile/index.vue?63e2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","avatar","_v","_s","nickName","roleName","personSign","on","click","routeToUserEdit","_e","_l","nav","index","key","class","profile-nav-item","active","activeIndex","$event","href","$route","params","aria-hidden","xlink:href","icon","name","userExist","type","routeToIndex","staticRenderFns","profilevue_type_script_lang_js_","data","logo_default","a","navs","computed","Object","objectSpread","vuex_esm","amI","user","pageUser","id","concat","map","1","2","3","4","5","6","7","email","role","created","_created","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getPageUserInfo","stop","apply","arguments","methods","_getPageUserInfo","_callee2","result","_context2","api","sent","code","$store","commit","$router","push","views_profilevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7f8ae513_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_7f8ae513_scoped_true_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/profile.52793f29.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile_container\"},[(_vm.userExist)?_c('div',{staticClass:\"profile-info block\"},[_c('div',{staticClass:\"profile-info-main\"},[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}})]),_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"nickName-box\"},[_c('h1',{staticClass:\"nickName\"},[_vm._v(_vm._s(_vm.nickName))]),_c('div',{staticClass:\"role\"},[_vm._v(_vm._s(_vm.roleName))])]),_c('div',{staticClass:\"personSign-box\"},[_c('span',{staticClass:\"personSign\"},[_vm._v(_vm._s(_vm.personSign))])])])]),_c('div',{staticClass:\"profile-info-opt\"},[(_vm.amI)?_c('button',{staticClass:\"edit-profile-btn\",on:{\"click\":_vm.routeToUserEdit}},[_vm._v(\"编辑个人资料\")]):_vm._e()])]):_vm._e(),(_vm.userExist)?_c('div',{staticClass:\"profile-main\"},[_c('div',{staticClass:\"profile-main-nav block\"},[_c('ul',{staticClass:\"profile-nav\"},_vm._l((_vm.navs),function(nav,index){return _c('li',{key:index,class:{'profile-nav-item':true, 'active': _vm.activeIndex === index},on:{\"click\":function($event){_vm.activeIndex = index}}},[_c('a',{attrs:{\"href\":(\"/profile/\" + (_vm.$route.params.id) + (nav.href))}},[_c('svg',{staticClass:\"profile-nav-item-logo\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":nav.icon}})]),_c('span',[_vm._v(_vm._s(nav.name))]),_c('i',{staticClass:\"el-icon-arrow-right icon-right\"})])])}),0)]),_c('div',{staticClass:\"profile-main-content block\"},[_c('router-view')],1)]):_vm._e(),(!_vm.userExist)?_c('div',{staticClass:\"userNotFound block\"},[_vm._v(\"用户不存在\")]):_vm._e(),(!_vm.userExist)?_c('div',{staticClass:\"toIndex\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.routeToIndex}},[_vm._v(\"返回首页\")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profile_container\">\n    <div class=\"profile-info block\" v-if=\"userExist\">\n      <div class=\"profile-info-main\">\n        <div class=\"img-box\">\n          <img :src=\"avatar\" class=\"avatar\">\n        </div>\n        <div class=\"info-box\">\n          <div class=\"nickName-box\">\n            <h1 class=\"nickName\">{{nickName}}</h1>\n            <div class=\"role\">{{roleName}}</div>\n          </div>\n          <div class=\"personSign-box\">\n            <span class=\"personSign\">{{personSign}}</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"profile-info-opt\">\n        <button class=\"edit-profile-btn\" @click=\"routeToUserEdit\" v-if=\"amI\">编辑个人资料</button>\n      </div>\n    </div>\n    <div class=\"profile-main\" v-if=\"userExist\">\n      <div class=\"profile-main-nav block\">\n        <ul class=\"profile-nav\">\n          <li\n            :class=\"{'profile-nav-item':true, 'active': activeIndex === index}\"\n            v-for=\"(nav, index) in navs\"\n            :key=\"index\"\n            @click=\"activeIndex = index\"\n          >\n            <a :href=\"`/profile/${$route.params.id}${nav.href}`\">\n              <svg class=\"profile-nav-item-logo\" aria-hidden=\"true\">\n                <use :xlink:href=\"nav.icon\"></use>\n              </svg>\n              <span>{{nav.name}}</span>\n              <i class=\"el-icon-arrow-right icon-right\"></i>\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"profile-main-content block\">\n        <router-view></router-view>\n      </div>\n    </div>\n    <div class=\"userNotFound block\" v-if=\"!userExist\">用户不存在</div>\n    <div class=\"toIndex\" v-if=\"!userExist\">\n      <el-button type=\"primary\" @click=\"routeToIndex\">返回首页</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport avatar from '@/assets/logo.png';\nimport { getUserInfoById } from '@/api';\nexport default {\n  data() {\n    return {\n      activeIndex: 0,\n      avatar,\n      navs: [\n        {\n          href: '',\n          icon: '#icon-home',\n          name: '首页'\n        },\n        {\n          href: '/discuss',\n          icon: '#icon-discuss',\n          name: '讨论帖'\n        },\n        {\n          href: '/likes',\n          icon: '#icon-zan',\n          name: '我的点赞'\n        },\n        {\n          href: '/basicInfo',\n          icon: '#icon-user',\n          name: '基本信息'\n        },\n        {\n          href: '/setting',\n          icon: '#icon-setting',\n          name: '设置'\n        }\n      ],\n      userExist: true // 用户是否存在,默认为true\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'pageUser',\n      'user'\n      // ...\n    ]),\n    amI() {\n      //是否是本人的个人信息界面\n      if (this.user && this.pageUser && this.user.id === this.pageUser.id) {\n        return true;\n      }\n      return false;\n    },\n    nickName() {\n      if (this.pageUser && this.pageUser.nickName) {\n        return this.pageUser.nickName;\n      }\n      return `${this.amI ? '你' : '他'}的昵称`;\n    },\n    personSign() {\n      if (this.pageUser && this.pageUser.personSign) {\n        return this.pageUser.personSign;\n      }\n      return `${this.amI ? '你' : '他'}的个性签名/座右铭/人生感悟`;\n    },\n    roleName() {\n      const map = {\n        1: '毕业生',\n        2: '在校生',\n        3: '老师',\n        4: '运营管理员',\n        5: '学校管理员',\n        6: '企业管理员',\n        7: '超级管理员'\n      };\n      if (this.pageUser && this.pageUser.email && this.pageUser.email === '14glwu@stu.edu.cn') {\n        return 'Stuer网创始人';\n      }\n      if (this.pageUser && this.pageUser.role) {\n        return map[this.pageUser.role] || '毕业生';\n      }\n      return '毕业生';\n    }\n  },\n  async created() {\n    await this.getPageUserInfo();\n  },\n  methods: {\n    async getPageUserInfo() {\n      // 查询当前页面的用户信息，非登录用户本身\n      const result = await getUserInfoById(this.$route.params.id);\n      if (result.code === 0) {\n        this.$store.commit('setPageUser', result.data);\n      } else if (result.code === 2003) {\n        this.userExist = false;\n      }\n    },\n    routeToUserEdit() {\n      this.$router.push(`/profile/${this.$route.params.id}/basicInfo#edit`);\n    },\n    routeToIndex() {\n      this.$router.push('/');\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n@import '~@/style/variables.scss';\n.profile_container {\n  padding: 2rem 0;\n}\n.profile-info {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2.5rem;\n  &-main,\n  &-opt {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n  }\n}\n.img-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 7rem;\n  width: 7rem;\n  border-radius: 50%;\n  overflow: hidden;\n  background: #eee;\n  cursor: pointer;\n  .avatar {\n    height: 7rem;\n    width: 7rem;\n  }\n}\n.info-box {\n  display: flex;\n  flex-direction: column;\n  margin-left: 3rem;\n}\n.nickName-box {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  .nickName {\n    margin-right: 1rem;\n    font-size: 2rem;\n    font-weight: 600;\n    word-break: break-word;\n  }\n  .role {\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    color: #fff;\n    background: #5cb85c;\n  }\n}\n.personSign-box {\n  margin-top: 1.2rem;\n  .personSign {\n    font-size: 1.25rem;\n    line-height: 1.5;\n    color: #4a68ad;\n    cursor: pointer;\n  }\n}\n.edit-profile-btn {\n  width: 10rem;\n  color: $primary-color;\n  margin: 1rem 0 0;\n  padding: 0;\n  height: 2.834rem;\n  font-size: 1.333rem;\n  font-weight: 500;\n  line-height: 1.2;\n  border: 1px solid $primary-color;\n  background-color: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n}\n.profile-main {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2rem;\n  &-nav {\n    width: 25%;\n  }\n  &-content {\n    width: 72%;\n    height: auto;\n  }\n}\n.profile-nav {\n  &-item {\n    position: relative;\n    font-size: 1.3rem;\n    color: #71777c;\n    cursor: pointer;\n    &:hover {\n      background-color: hsla(0, 0%, 94.9%, 0.5);\n    }\n    a {\n      display: flex;\n      align-items: center;\n      padding: 2rem 2rem;\n      color: #71777c;\n      &:hover {\n        color: $primary-color;\n      }\n    }\n    &-logo {\n      display: inline-block;\n      width: 1em;\n      height: 1em;\n      margin: 0 2rem 0 1rem;\n      font-size: 1.2em;\n      vertical-align: middle;\n    }\n  }\n}\n.icon-right {\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  color: #d8d8d8;\n}\n.userNotFound {\n  padding: 4rem;\n  font-size: 1.5rem;\n  color: $link-color;\n  text-align: center;\n}\n.toIndex {\n  margin-top: 2rem;\n  display: flex;\n  justify-content: center;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=7f8ae513&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=7f8ae513&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f8ae513\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7f8ae513&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=7f8ae513&scoped=true&lang=scss&\""],"sourceRoot":""}