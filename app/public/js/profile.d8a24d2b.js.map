{"version":3,"sources":["webpack:///./src/pages/index/views/profile/index.vue?0e64","webpack:///src/pages/index/views/profile/index.vue","webpack:///./src/pages/index/views/profile/index.vue?71c9","webpack:///./src/pages/index/views/profile/index.vue","webpack:///./src/pages/index/views/profile/index.vue?a9bc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","avatar","attrs","action","show-file-list","on-success","handleAvatarSuccess","before-upload","beforeAvatarUpload","src","defaultAvatar","_v","_s","nickName","roleName","personSign","lineMultiple","length","title","on","click","routeToUserEdit","_e","_l","nav","index","key","profile-nav-item","active","isActive","href","to","$route","params","nativeOn","$event","activeIndex","aria-hidden","xlink:href","icon","name","userExist","type","routeToIndex","staticRenderFns","profilevue_type_script_lang_js_","data","default_avatar_default","a","navs","computed","Object","objectSpread","vuex_esm","pageUser","concat","amI","map","1","2","3","4","5","6","7","email","role","watch","_pageUser","slice","flag1","some","item","push","filter","created","_created","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","getPageUserInfo","stop","apply","arguments","methods","_getPageUserInfo","_callee2","result","_context2","api","id","sent","code","$store","commit","_handleAvatarSuccess","_callee3","res","file","_context3","fileUrl","_x","_x2","isLt2M","size","$message","error","$router","matched","path","lastIndexOf","views_profilevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/profile.d8a24d2b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile_container\"},[(_vm.userExist)?_c('div',{staticClass:\"profile-info block\"},[_c('div',{staticClass:\"profile-info-main\"},[(_vm.amI)?_c('el-upload',{class:_vm.avatar ? 'avatar-box' : 'avatar-uploader',attrs:{\"action\":\"/api/uploadImg\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]):_c('div',{staticClass:\"avatar-box\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.defaultAvatar}})]),_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"nickName-box\"},[_c('h1',{staticClass:\"nickName\"},[_vm._v(_vm._s(_vm.nickName))]),_c('div',{staticClass:\"role\"},[_vm._v(_vm._s(_vm.roleName))])]),_c('div',{staticClass:\"personSign-box\"},[_c('span',{class:{personSign:true, lineMultiple: _vm.personSign.length > 65},attrs:{\"title\":_vm.personSign}},[_vm._v(_vm._s(_vm.personSign))])])])],1),_c('div',{staticClass:\"profile-info-opt\"},[(_vm.amI)?_c('button',{staticClass:\"edit-profile-btn\",on:{\"click\":_vm.routeToUserEdit}},[_vm._v(\"编辑个人资料\")]):_vm._e()])]):_vm._e(),(_vm.userExist)?_c('div',{staticClass:\"profile-main\"},[_c('div',{staticClass:\"profile-main-nav block\"},[_c('ul',{staticClass:\"profile-nav\"},_vm._l((_vm.navs),function(nav,index){return _c('li',{key:index,class:{'profile-nav-item':true, 'active': _vm.isActive(nav.href) }},[_c('router-link',{attrs:{\"to\":(\"/profile/\" + (_vm.$route.params.id) + (nav.href))},nativeOn:{\"click\":function($event){_vm.activeIndex = index}}},[_c('svg',{staticClass:\"profile-nav-item-logo\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":nav.icon}})]),_c('span',[_vm._v(_vm._s(nav.name))]),_c('i',{staticClass:\"el-icon-arrow-right icon-right\"})])],1)}),0)]),_c('div',{staticClass:\"profile-main-content block\"},[_c('router-view')],1)]):_vm._e(),(!_vm.userExist)?_c('div',{staticClass:\"userNotFound block\"},[_vm._v(\"用户不存在\")]):_vm._e(),(!_vm.userExist)?_c('div',{staticClass:\"toIndex\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.routeToIndex}},[_vm._v(\"返回首页\")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profile_container\">\n    <div class=\"profile-info block\" v-if=\"userExist\">\n      <div class=\"profile-info-main\">\n        <el-upload\n          v-if=\"amI\"\n          :class=\"avatar ? 'avatar-box' : 'avatar-uploader' \"\n          action=\"/api/uploadImg\"\n          :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\"\n          :before-upload=\"beforeAvatarUpload\"\n        >\n          <img v-if=\"avatar\" :src=\"avatar\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <div class=\"avatar-box\" v-else>\n          <img :src=\"defaultAvatar\" class=\"avatar\">\n        </div>\n        <div class=\"info-box\">\n          <div class=\"nickName-box\">\n            <h1 class=\"nickName\">{{nickName}}</h1>\n            <div class=\"role\">{{roleName}}</div>\n          </div>\n          <div class=\"personSign-box\">\n            <span\n              :class=\"{personSign:true, lineMultiple: personSign.length > 65}\"\n              :title=\"personSign\"\n            >{{personSign}}</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"profile-info-opt\">\n        <button class=\"edit-profile-btn\" @click=\"routeToUserEdit\" v-if=\"amI\">编辑个人资料</button>\n      </div>\n    </div>\n    <div class=\"profile-main\" v-if=\"userExist\">\n      <div class=\"profile-main-nav block\">\n        <ul class=\"profile-nav\">\n          <li\n            :class=\"{'profile-nav-item':true, 'active': isActive(nav.href) }\"\n            v-for=\"(nav, index) in navs\"\n            :key=\"index\"\n          >\n            <router-link\n              :to=\"`/profile/${$route.params.id}${nav.href}`\"\n              @click.native=\"activeIndex = index\"\n            >\n              <svg class=\"profile-nav-item-logo\" aria-hidden=\"true\">\n                <use :xlink:href=\"nav.icon\"></use>\n              </svg>\n              <span>{{nav.name}}</span>\n              <i class=\"el-icon-arrow-right icon-right\"></i>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n      <div class=\"profile-main-content block\">\n        <router-view></router-view>\n      </div>\n    </div>\n    <div class=\"userNotFound block\" v-if=\"!userExist\">用户不存在</div>\n    <div class=\"toIndex\" v-if=\"!userExist\">\n      <el-button type=\"primary\" @click=\"routeToIndex\">返回首页</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport defaultAvatar from '@/assets/default-avatar.png';\nimport { getUserInfoById, updateUserInfo } from '@/api';\nexport default {\n  data() {\n    return {\n      activeIndex: 0,\n      defaultAvatar,\n      navs: [\n        {\n          href: '',\n          icon: '#icon-home',\n          name: '首页'\n        },\n        {\n          href: '/discuss',\n          icon: '#icon-discuss',\n          name: '讨论帖'\n        },\n        {\n          href: '/likes',\n          icon: '#icon-zan',\n          name: '点赞'\n        },\n        {\n          href: '/basicInfo',\n          icon: '#icon-user',\n          name: '基本信息'\n        }\n        // {\n        //   href: '/moreInfo',\n        //   icon: '#icon-more-info',\n        //   name: '更多信息'\n        // },\n        // {\n        //   href: '/setting',\n        //   icon: '#icon-setting',\n        //   name: '设置'\n        // }\n      ],\n      userExist: true // 用户是否存在,默认为true\n    };\n  },\n  computed: {\n    ...mapGetters(['pageUser', 'amI']),\n    avatar() {\n      if (this.pageUser && this.pageUser.avatar) {\n        return this.pageUser.avatar;\n      }\n      return '';\n    },\n    nickName() {\n      if (this.pageUser && this.pageUser.nickName) {\n        return this.pageUser.nickName;\n      }\n      return `${this.amI ? '你' : '他'}的昵称`;\n    },\n    personSign() {\n      if (this.pageUser && this.pageUser.personSign) {\n        return this.pageUser.personSign;\n      }\n      return `${this.amI ? '你' : '他'}的个性签名/座右铭/人生感悟`;\n    },\n    roleName() {\n      const map = {\n        1: '毕业生',\n        2: '在校生',\n        3: '老师',\n        4: '运营管理员',\n        5: '学校管理员',\n        6: '企业管理员',\n        7: '超级管理员'\n      };\n      if (this.pageUser && this.pageUser.email && this.pageUser.email === '14glwu@stu.edu.cn') {\n        return 'Stuer网创始人';\n      }\n      if (this.pageUser && this.pageUser.role) {\n        return map[this.pageUser.role] || '毕业生';\n      }\n      return '毕业生';\n    }\n  },\n  watch: {\n    pageUser(pageUser) {\n      let navs = this.navs.slice();\n      // 用户角色为学生用户后，可以看到 更多信息和设置\n      if (pageUser && pageUser.role < 3) {\n        const flag1 = navs.some((item) => item.href === '/moreInfo');\n        if (!flag1) {\n          navs.push({\n            href: '/moreInfo',\n            icon: '#icon-more-info',\n            name: '更多信息'\n          });\n        }\n        const flag2 = navs.some((item) => item.href === '/setting');\n        if (!navs.some((item) => item.href === '/setting')) {\n          navs.push({\n            href: '/setting',\n            icon: '#icon-setting',\n            name: '设置'\n          });\n        }\n      }\n      // 不是学生的用户不需要展示更多信息,不是本人也无法看到更多信息\n      if (pageUser && pageUser.role > 2) {\n        navs = navs.filter((item) => item.href !== '/moreInfo');\n      }\n      // 不是本人也无法看到更多信息和设置\n      if (!this.amI) {\n        navs = navs.filter((item) => item.href !== '/setting');\n        navs = navs.filter((item) => item.href !== '/moreInfo');\n      }\n      this.navs = navs;\n    }\n  },\n  async created() {\n    await this.getPageUserInfo();\n  },\n  methods: {\n    async getPageUserInfo() {\n      // 查询当前页面的用户信息，非登录用户本身\n      const result = await getUserInfoById(this.$route.params.id);\n      if (result.code === 0) {\n        this.$store.commit('setPageUser', result.data);\n      } else if (result.code === 2003) {\n        this.userExist = false;\n      }\n    },\n    async handleAvatarSuccess(res, file) {\n      if (res.code === 0) {\n        this.avatar = res.data.fileUrl;\n        const result = await updateUserInfo({\n          avatar: res.data.fileUrl\n        });\n        if (result.code === 0) {\n          this.$store.commit('setPageUser', result.data);\n          this.$store.commit('setUser', result.data);\n        }\n      }\n    },\n    beforeAvatarUpload(file) {\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isLt2M;\n    },\n    routeToUserEdit() {\n      this.$router.push(`/profile/${this.$route.params.id}/basicInfo#edit`);\n    },\n    routeToIndex() {\n      this.$router.push('/');\n    },\n    isActive(href) {\n      // 导航是否高亮\n      if (\n        this.$route.matched[1].path.slice(this.$route.matched[1].path.lastIndexOf('/')) === '/' &&\n        href === ''\n      ) {\n        return true;\n      }\n\n      return (\n        this.$route.matched[1].path.slice(this.$route.matched[1].path.lastIndexOf('/')) === href\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~@/style/variables.scss';\n.profile_container {\n  padding: 2rem 0;\n}\n.profile-info {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2.5rem;\n  &-main,\n  &-opt {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n  }\n}\n.avatar-uploader {\n  .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 50%;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    &:hover {\n      border-color: #409eff;\n    }\n  }\n  &-icon {\n    font-size: 2rem;\n    color: #8c939d;\n    width: 7rem;\n    height: 7rem;\n    line-height: 7rem;\n    text-align: center;\n  }\n}\n.avatar-box {\n  border: none;\n  width: 7rem;\n  height: 7rem;\n  border-radius: 50%;\n  background: #eee;\n  overflow: hidden;\n  .el-upload {\n    border: none;\n  }\n}\n.avatar {\n  width: 7rem;\n  height: 7rem;\n  display: block;\n}\n.info-box {\n  display: flex;\n  flex-direction: column;\n  margin-left: 3rem;\n}\n.nickName-box {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  .nickName {\n    margin-right: 1rem;\n    font-size: 2rem;\n    font-weight: 600;\n    word-break: break-word;\n  }\n  .role {\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    color: #fff;\n    background: #5cb85c;\n  }\n}\n.personSign-box {\n  max-width: 50rem;\n  margin-top: 1.2rem;\n  overflow: hidden;\n  cursor: pointer;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  .personSign {\n    position: relative;\n    font-size: 1.25rem;\n    line-height: 1.5;\n    color: #4a68ad;\n  }\n}\n// 多行显示\n.lineMultiple {\n  height: 4rem; // 避免不兼容\n  white-space: normal;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2; /*规定最多显示两行*/\n}\n.edit-profile-btn {\n  width: 10rem;\n  color: $primary-color;\n  margin: 1rem 0 0;\n  padding: 0;\n  height: 2.834rem;\n  font-size: 1.333rem;\n  font-weight: 500;\n  line-height: 1.2;\n  border: 1px solid $primary-color;\n  background-color: #fff;\n  border-radius: 4px;\n  outline: none;\n  cursor: pointer;\n}\n.profile-main {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2rem;\n  &-nav {\n    width: 25%;\n  }\n  &-content {\n    width: 72%;\n    height: auto;\n  }\n}\n.profile-nav {\n  &-item {\n    position: relative;\n    font-size: 1.3rem;\n    color: #71777c;\n    cursor: pointer;\n    &.active {\n      background-color: hsla(0, 0%, 94.9%, 0.5);\n      a {\n        color: $primary-color;\n      }\n    }\n    &:hover {\n      background-color: hsla(0, 0%, 94.9%, 0.5);\n    }\n    a {\n      display: flex;\n      align-items: center;\n      padding: 2rem 2rem;\n      color: #71777c;\n      &:hover {\n        color: $primary-color;\n      }\n    }\n    &-logo {\n      display: inline-block;\n      width: 1em;\n      height: 1em;\n      margin: 0 2rem 0 1rem;\n      font-size: 1.2em;\n      vertical-align: middle;\n    }\n  }\n}\n.icon-right {\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  color: #d8d8d8;\n}\n.userNotFound {\n  padding: 4rem;\n  font-size: 1.5rem;\n  color: $link-color;\n  text-align: center;\n}\n.toIndex {\n  margin-top: 2rem;\n  display: flex;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1bb5a013&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}