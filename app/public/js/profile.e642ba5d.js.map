{"version":3,"sources":["webpack:///./src/pages/index/views/profile/index.vue?c521","webpack:///src/pages/index/views/profile/index.vue","webpack:///./src/pages/index/views/profile/index.vue?71c9","webpack:///./src/pages/index/views/profile/index.vue","webpack:///./src/pages/index/views/profile/index.vue?a9bc"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","avatar","attrs","action","show-file-list","on-success","handleAvatarSuccess","before-upload","beforeAvatarUpload","src","defaultAvatar","_v","_s","nickName","roleName","personSign","lineMultiple","length","title","on","click","routeToUserEdit","$event","followed","followLabel","_e","_l","nav","index","key","profile-nav-item","active","isActive","href","amI","to","$route","params","aria-hidden","xlink:href","icon","name","userExist","type","routeToIndex","staticRenderFns","profilevue_type_script_lang_js_","inject","data","default_avatar_default","a","navs","computed","Object","objectSpread","vuex_esm","pageUser","concat","map","1","2","3","4","5","6","7","8","email","role","watch","_$route","asyncToGenerator","regeneratorRuntime","mark","_callee","from","wrap","_context","prev","next","id","reload","stop","_x","_x2","apply","arguments","created","_created","_callee2","_context2","getPageUserInfo","setAmI","methods","_getPageUserInfo","_callee3","result","_context3","api","sent","code","$store","commit","user","_handleAvatarSuccess","_callee4","res","file","_context4","fileUrl","_x3","_x4","isLt2M","size","$message","error","$router","push","matched","path","slice","lastIndexOf","views_profilevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"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","file":"js/profile.e642ba5d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profile_container\"},[(_vm.userExist)?_c('div',{staticClass:\"profile-info block\"},[_c('div',{staticClass:\"profile-info-main\"},[(_vm.amI)?_c('el-upload',{class:_vm.avatar ? 'avatar-box' : 'avatar-uploader',attrs:{\"action\":\"/api/uploadImg\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})]):_c('div',{staticClass:\"avatar-box\"},[(_vm.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.avatar}}):_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.defaultAvatar}})]),_c('div',{staticClass:\"info-box\"},[_c('div',{staticClass:\"nickName-box\"},[_c('h1',{staticClass:\"nickName\"},[_vm._v(_vm._s(_vm.nickName))]),_c('div',{staticClass:\"role\"},[_vm._v(_vm._s(_vm.roleName))])]),_c('div',{staticClass:\"personSign-box\"},[_c('span',{class:{personSign:true, lineMultiple: _vm.personSign.length > 65},attrs:{\"title\":_vm.personSign}},[_vm._v(_vm._s(_vm.personSign))])])])],1),_c('div',{staticClass:\"profile-info-opt\"},[(_vm.amI)?_c('button',{staticClass:\"edit-profile-btn\",on:{\"click\":_vm.routeToUserEdit}},[_vm._v(\"编辑个人资料\")]):_c('button',{staticClass:\"edit-profile-btn\",on:{\"click\":function($event){_vm.followed = !_vm.followed}}},[_vm._v(_vm._s(_vm.followLabel))])])]):_vm._e(),(_vm.userExist)?_c('div',{staticClass:\"profile-main\"},[_c('div',{staticClass:\"profile-main-nav block\"},[_c('ul',{staticClass:\"profile-nav\"},_vm._l((_vm.navs),function(nav,index){return _c('li',{key:index,class:{'profile-nav-item':true, 'active': _vm.isActive(nav.href) }},[(_vm.amI || ( index !== 4 && index !== 5))?_c('router-link',{attrs:{\"to\":(\"/profile/\" + (_vm.$route.params.id) + (nav.href))}},[_c('svg',{staticClass:\"icon profile-nav-item-logo\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":nav.icon}})]),_c('span',[_vm._v(_vm._s(nav.name))]),_c('i',{staticClass:\"el-icon-arrow-right icon-right\"})]):_vm._e()],1)}),0)]),_c('div',{staticClass:\"profile-main-content block\"},[_c('router-view')],1)]):_vm._e(),(!_vm.userExist)?_c('div',{staticClass:\"userNotFound block\"},[_vm._v(\"用户不存在\")]):_vm._e(),(!_vm.userExist)?_c('div',{staticClass:\"toIndex\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.routeToIndex}},[_vm._v(\"返回首页\")])],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profile_container\">\n    <div class=\"profile-info block\" v-if=\"userExist\">\n      <div class=\"profile-info-main\">\n        <el-upload\n          v-if=\"amI\"\n          :class=\"avatar ? 'avatar-box' : 'avatar-uploader' \"\n          action=\"/api/uploadImg\"\n          :show-file-list=\"false\"\n          :on-success=\"handleAvatarSuccess\"\n          :before-upload=\"beforeAvatarUpload\"\n        >\n          <img v-if=\"avatar\" :src=\"avatar\" class=\"avatar\">\n          <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <div class=\"avatar-box\" v-else>\n          <img v-if=\"avatar\" :src=\"avatar\" class=\"avatar\">\n          <img v-else :src=\"defaultAvatar\" class=\"avatar\">\n        </div>\n        <div class=\"info-box\">\n          <div class=\"nickName-box\">\n            <h1 class=\"nickName\">{{nickName}}</h1>\n            <div class=\"role\">{{roleName}}</div>\n          </div>\n          <div class=\"personSign-box\">\n            <span\n              :class=\"{personSign:true, lineMultiple: personSign.length > 65}\"\n              :title=\"personSign\"\n            >{{personSign}}</span>\n          </div>\n        </div>\n      </div>\n      <div class=\"profile-info-opt\">\n        <button class=\"edit-profile-btn\" @click=\"routeToUserEdit\" v-if=\"amI\">编辑个人资料</button>\n        <button class=\"edit-profile-btn\" @click=\"followed = !followed\" v-else>{{followLabel}}</button>\n      </div>\n    </div>\n    <div class=\"profile-main\" v-if=\"userExist\">\n      <div class=\"profile-main-nav block\">\n        <ul class=\"profile-nav\">\n          <li\n            :class=\"{'profile-nav-item':true, 'active': isActive(nav.href) }\"\n            v-for=\"(nav, index) in navs\"\n            :key=\"index\"\n          >\n            <!-- 在是我的情况下全显示，不是我的情况下，不显示设置和更多信息 -->\n            <router-link\n              :to=\"`/profile/${$route.params.id}${nav.href}`\"\n              v-if=\"amI || ( index !== 4 && index !== 5)\"\n            >\n              <svg class=\"icon profile-nav-item-logo\" aria-hidden=\"true\">\n                <use :xlink:href=\"nav.icon\"></use>\n              </svg>\n              <span>{{nav.name}}</span>\n              <i class=\"el-icon-arrow-right icon-right\"></i>\n            </router-link>\n          </li>\n        </ul>\n      </div>\n      <div class=\"profile-main-content block\">\n        <router-view></router-view>\n      </div>\n    </div>\n    <div class=\"userNotFound block\" v-if=\"!userExist\">用户不存在</div>\n    <div class=\"toIndex\" v-if=\"!userExist\">\n      <el-button type=\"primary\" @click=\"routeToIndex\">返回首页</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport defaultAvatar from '@/assets/default-avatar.png';\nimport { getUserInfoById, updateUserInfo } from '@/api';\nexport default {\n  inject: ['reload'],\n  data() {\n    return {\n      defaultAvatar,\n      navs: [\n        {\n          href: '',\n          icon: '#icon-home',\n          name: '首页'\n        },\n        {\n          href: '/discuss',\n          icon: '#icon-discuss',\n          name: '讨论帖'\n        },\n        {\n          href: '/likes',\n          icon: '#icon-zan',\n          name: '点赞'\n        },\n        {\n          href: '/basicInfo',\n          icon: '#icon-user',\n          name: '基本信息'\n        },\n        {\n          href: '/moreInfo',\n          icon: '#icon-more-info',\n          name: '更多信息'\n        },\n        {\n          href: '/setting',\n          icon: '#icon-setting',\n          name: '设置'\n        }\n      ],\n      followed: false, // 是否关注\n      userExist: true // 用户是否存在,默认为true\n    };\n  },\n  computed: {\n    ...mapGetters(['pageUser', 'user', 'amI']),\n    avatar() {\n      if (this.pageUser && this.pageUser.avatar) {\n        return this.pageUser.avatar;\n      }\n      return '';\n    },\n    nickName() {\n      if (this.pageUser && this.pageUser.nickName) {\n        return this.pageUser.nickName;\n      }\n      return `${this.amI ? '你' : '他'}的昵称`;\n    },\n    personSign() {\n      if (this.pageUser && this.pageUser.personSign) {\n        return this.pageUser.personSign;\n      }\n      return `${this.amI ? '你' : '他'}的个性签名/座右铭/人生感悟`;\n    },\n    roleName() {\n      const map = {\n        1: '毕业生',\n        2: '在校生',\n        3: '老师',\n        4: '企业用户',\n        5: '运营管理员',\n        6: '学校管理员',\n        7: '企业管理员',\n        8: '超级管理员'\n      };\n      if (this.pageUser && this.pageUser.email && this.pageUser.email === '14glwu@stu.edu.cn') {\n        return 'Stuer网创始人';\n      }\n      if (this.pageUser && this.pageUser.role) {\n        return map[this.pageUser.role] || '毕业生';\n      }\n      return '毕业生';\n    },\n    followLabel() {\n      return this.followed ? '取消关注' : '关注';\n    }\n  },\n  watch: {\n    async $route(to, from) {\n      if (to.params && from.params && to.params.id !== from.params.id) {\n        this.reload();\n      }\n    }\n  },\n  async created() {\n    await this.getPageUserInfo();\n    this.setAmI();\n  },\n  methods: {\n    async getPageUserInfo() {\n      // 查询当前页面的用户信息，非登录用户本身\n      const result = await getUserInfoById(this.$route.params.id);\n      if (result.code === 0) {\n        this.$store.commit('setPageUser', result.data);\n      } else if (result.code === 2003) {\n        this.userExist = false;\n      }\n    },\n    setAmI() {\n      if (this.user && this.pageUser && this.user.id === this.pageUser.id) {\n        this.$store.commit('setAmI', true);\n      } else {\n        this.$store.commit('setAmI', false);\n      }\n    },\n    async handleAvatarSuccess(res, file) {\n      if (res.code === 0) {\n        this.avatar = res.data.fileUrl;\n        const result = await updateUserInfo({\n          avatar: res.data.fileUrl\n        });\n        if (result.code === 0) {\n          this.$store.commit('setPageUser', result.data);\n          this.$store.commit('setUser', result.data);\n        }\n      }\n    },\n    beforeAvatarUpload(file) {\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isLt2M;\n    },\n    routeToUserEdit() {\n      this.$router.push(`/profile/${this.$route.params.id}/basicInfo#edit`);\n    },\n    routeToIndex() {\n      this.$router.push('/');\n    },\n    isActive(href) {\n      // 导航是否高亮\n      if (\n        this.$route.matched[1].path.slice(this.$route.matched[1].path.lastIndexOf('/')) === '/' &&\n        href === ''\n      ) {\n        return true;\n      }\n\n      return (\n        this.$route.matched[1].path.slice(this.$route.matched[1].path.lastIndexOf('/')) === href\n      );\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~@/style/variables.scss';\n.profile_container {\n  padding: 2rem 0;\n}\n.profile-info {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2.5rem;\n  &-main,\n  &-opt {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n  }\n}\n.avatar-uploader {\n  .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 50%;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    &:hover {\n      border-color: #409eff;\n    }\n  }\n  &-icon {\n    font-size: 2rem;\n    color: #8c939d;\n    width: 7rem;\n    height: 7rem;\n    line-height: 7rem;\n    text-align: center;\n  }\n}\n.avatar-box {\n  border: none;\n  width: 7rem;\n  height: 7rem;\n  border-radius: 50%;\n  background: #eee;\n  overflow: hidden;\n  .el-upload {\n    border: none;\n  }\n}\n.avatar {\n  width: 7rem;\n  height: 7rem;\n  display: block;\n}\n.info-box {\n  display: flex;\n  flex-direction: column;\n  margin-left: 3rem;\n}\n.nickName-box {\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  .nickName {\n    margin-right: 1rem;\n    font-size: 2rem;\n    font-weight: 600;\n    word-break: break-word;\n  }\n  .role {\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    color: #fff;\n    background: #5cb85c;\n  }\n}\n.personSign-box {\n  max-width: 50rem;\n  margin-top: 1.2rem;\n  overflow: hidden;\n  cursor: pointer;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  .personSign {\n    position: relative;\n    font-size: 1.25rem;\n    line-height: 1.5;\n    color: #4a68ad;\n  }\n}\n// 多行显示\n.lineMultiple {\n  height: 4rem; // 避免不兼容\n  white-space: normal;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2; /*规定最多显示两行*/\n}\n.edit-profile-btn {\n  width: 10rem;\n  color: $primary-color;\n  margin: 1rem 0 0;\n  padding: 0;\n  height: 2.834rem;\n  font-size: 1.333rem;\n  font-weight: 500;\n  line-height: 1.2;\n  border: 1px solid $primary-color;\n  background-color: #fff;\n  border-radius: 4px;\n  outline: none;\n  cursor: pointer;\n  &:hover {\n    color: #fff;\n    background: $primary-color;\n  }\n}\n.profile-main {\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  margin-top: 2rem;\n  &-nav {\n    width: 25%;\n  }\n  &-content {\n    width: 72%;\n    height: auto;\n  }\n}\n.profile-nav {\n  padding: 2rem 0;\n  &-item {\n    position: relative;\n    font-size: 1.3rem;\n    color: #71777c;\n    cursor: pointer;\n    &.active {\n      background-color: hsla(0, 0%, 94.9%, 0.5);\n      a {\n        color: $primary-color;\n      }\n    }\n    &:hover {\n      background-color: hsla(0, 0%, 94.9%, 0.5);\n    }\n    a {\n      display: flex;\n      align-items: center;\n      padding: 2rem 2rem;\n      color: #71777c;\n      &:hover {\n        color: $primary-color;\n      }\n    }\n    &-logo {\n      display: inline-block;\n      width: 1em;\n      height: 1em;\n      margin: 0 2rem 0 1rem;\n      font-size: 1.2em;\n      vertical-align: middle;\n    }\n  }\n}\n.icon-right {\n  position: absolute;\n  right: 1rem;\n  font-size: 1.5rem;\n  color: #d8d8d8;\n}\n.userNotFound {\n  padding: 4rem;\n  font-size: 2rem;\n  color: $link-color;\n  text-align: center;\n}\n.toIndex {\n  margin-top: 2rem;\n  display: flex;\n  justify-content: center;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=54e6bba4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}